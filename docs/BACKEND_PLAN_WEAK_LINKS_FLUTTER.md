# Слабые звенья (weak_links) — интеграция Flutter

Спека для отображения слабых мест пользователя и связи упражнений с ними.

---

## 1. Поле `weak_links` в ответе дня

```ts
weak_links: Array<{
  key: string;      // "pinch" | "finger" | "pulling" | "lock_off"
  label_ru: string; // "Щипковая сила", "Сила пальцев (активник)" и т.д.
  hint: string;     // Подсказка, что делать
}>
```

**Где использовать:**
- блок «Твои слабые места» (бейджи/список) над списком упражнений;
- или в шапке дня: «Сегодня фокус на: щипок, тяга».

Если `weak_links.length === 0` — блок не показывать.

---

## 2. Поле `targets_weak_link` в упражнениях

```ts
exercise: {
  name: string;
  sets: number;
  reps: string;
  targets_weak_link?: string;  // совпадает с weak_links[].key
  // ...остальные поля
}
```

**Где использовать:**
- бейдж рядом с упражнением: «Для слабого места» / «Щипок» / иконка цели;
- или подсветка карточки/иконка, показывающая, что упражнение закрывает слабое звено.

---

## 3. Связка `weak_links` и `targets_weak_link`

| weak_links | targets_weak_link в упражнении | Что показать |
|------------|--------------------------------|--------------|
| `[{ key: "pinch" }]` | `exercise.targets_weak_link === "pinch"` | Упражнение закрывает щипок |
| `[{ key: "pinch" }]` | Нет такого exercise | Был добавлен доп. блок для щипка (с конца списка) |

---

## 4. UI-варианты

- Иконка/бейдж `targets_weak_link` рядом с названием упражнения.
- Блок «Твои слабые места: щипок, тяга» с `label_ru` и `hint`.
- Подсветка упражнений, у которых есть `targets_weak_link`, чтобы визуально выделить их в плане.

---

## 5. Дни без упражнений

В дни `rest` и `measurement` список `exercises` пустой, но `weak_links` всё равно есть.
Можно показывать их как «На что обратить внимание в следующих тренировках» или как контекст для следующего ОФП/СФП дня.

---

## Flutter: модели

- `PlanDayResponse.weakLinks` — `List<WeakLink>`
- `PlanDayExercise.targetsWeakLink` — `String?` (парсится из `targets_weak_link`)
